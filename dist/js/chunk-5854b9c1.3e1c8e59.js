(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5854b9c1"],{"0fea":function(t,e,a){"use strict";a.d(e,"g",(function(){return o})),a.d(e,"e",(function(){return i})),a.d(e,"h",(function(){return r})),a.d(e,"f",(function(){return d})),a.d(e,"m",(function(){return l})),a.d(e,"k",(function(){return u})),a.d(e,"i",(function(){return c})),a.d(e,"l",(function(){return _})),a.d(e,"j",(function(){return m})),a.d(e,"p",(function(){return p})),a.d(e,"q",(function(){return f})),a.d(e,"o",(function(){return y})),a.d(e,"r",(function(){return h})),a.d(e,"n",(function(){return b})),a.d(e,"c",(function(){return g})),a.d(e,"a",(function(){return v})),a.d(e,"d",(function(){return D})),a.d(e,"b",(function(){return j}));var n=a("b775"),s={sys_dict_page:"/admin/sys_dict_page",sys_dict_layer_top:"/admin/sys_dict_layer_top",sys_dict_add:"/admin/sys_dict_add",sys_dict_update:"/admin/sys_dict_update",sys_dict_delete:"/admin/sys_dict_remove",sys_permission_page:"/admin/sys_permission_page",sys_permission_add:"/admin/sys_permission_add",sys_permission_update:"/admin/sys_permission_update",sys_permission_delete:"/admin/sys_permission_remove",sys_role_page:"/admin/sys_role_page",sys_role_add:"/admin/sys_role_add",sys_role_update:"/admin/sys_role_update",sys_role_delete:"/admin/sys_role_delete",sys_permission_all:"/admin/sys_permission_all",sys_permission_layer_top:"/admin/sys_permission_layer_top",sys_user_page:"/admin/sys_user_page",sys_user_add:"/admin/sys_user_add",sys_user_update:"/admin/sys_user_update",sys_user_remove:"/admin/sys_user_remove",sys_role_layer_top:"/admin/sys_role_layer_top",user:"/admin/user",role:"/admin/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function o(t){return Object(n["b"])({url:s.sys_permission_page,method:"post",data:t})}function i(t){return Object(n["b"])({url:s.sys_permission_add,method:"post",data:t})}function r(t){return Object(n["b"])({url:s.sys_permission_update,method:"post",data:t})}function d(t){return Object(n["b"])({url:s.sys_permission_delete,method:"post",data:t})}function l(t){return Object(n["b"])({url:s.sys_permission_layer_top,method:"post",data:t})}function u(t){return Object(n["b"])({url:s.sys_role_page,method:"post",data:t})}function c(t){return Object(n["b"])({url:s.sys_role_add,method:"post",data:t})}function _(t){return Object(n["b"])({url:s.sys_role_update,method:"post",data:t})}function m(t){return Object(n["b"])({url:s.sys_role_delete,method:"post",data:t})}function p(t){return Object(n["b"])({url:s.sys_user_page,method:"post",data:t})}function f(t){return Object(n["b"])({url:s.sys_user_remove,method:"post",data:t})}function y(t){return Object(n["b"])({url:s.sys_user_add,method:"post",data:t})}function h(t){return Object(n["b"])({url:s.sys_user_update,method:"post",data:t})}function b(t){return Object(n["b"])({url:s.sys_role_layer_top,method:"post",data:t})}function g(t){return Object(n["b"])({url:s.sys_dict_page,method:"post",data:t})}function v(t){return Object(n["b"])({url:s.sys_dict_add,method:"post",data:t})}function D(t){return Object(n["b"])({url:s.sys_dict_update,method:"post",data:t})}function j(t){return Object(n["b"])({url:s.sys_dict_delete,method:"post",data:t})}},"634a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataBody"},[a("a-form-model",{attrs:{layout:"inline"}},[a("a-form-model-item",[a("a-input",{attrs:{placeholder:"请输入名称",allowClear:!0},model:{value:t.queryData.name,callback:function(e){t.$set(t.queryData,"name",e)},expression:"queryData.name"}})],1),a("a-form-model-item",[a("a-input",{attrs:{placeholder:"请输入编码",allowClear:!0},model:{value:t.queryData.code,callback:function(e){t.$set(t.queryData,"code",e)},expression:"queryData.code"}})],1),a("a-form-model-item",[a("a-button-group",[a("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:t.fetch_no_page}},[t._v(" 查询 ")]),a("a-button",{on:{click:function(e){return t.handleAdd()}}},[t._v("添加")])],1)],1)],1),a("a-table",{attrs:{columns:t.columns,rowKey:function(t){return t.id},dataSource:t.data,pagination:t.pagination,loading:t.loading,indentSize:15,childrenColumnName:"childs"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"state",fn:function(e,a){return[t._v(t._s(t.STATE[+e]))]}},{key:"action",fn:function(e){return[a("div",{staticStyle:{width:"110px"}},[a("a",{staticStyle:{color:"#1890ff","margin-right":"10px"},on:{click:function(a){return t.handleEdit(e)}}},[t._v("编辑")]),a("a-dropdown",[a("a",{staticClass:"ant-dropdown-link"},[t._v("更多"),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item"),a("a-menu-item",[a("a",{staticStyle:{color:"#f5222d"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("删除")])])],1)],1)],1)]}}])}),t.visible?a("a-modal",{attrs:{title:"add"===t.dialogMode?"添加":"编辑",cancelText:"取消",okText:"确定",width:500,maskClosable:!1,centered:""},on:{ok:t.handleAddData},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-model",t._b({ref:"formAdd",attrs:{labelAlign:"right",model:t.dialogData,rules:t.rules}},"a-form-model",{labelCol:{sm:{span:4}},wrapperCol:{sm:{span:20}}},!1),[a("a-form-model-item",{attrs:{label:"名称",prop:"name"}},[a("a-input",{attrs:{placeholder:"请输入名称"},model:{value:t.dialogData.name,callback:function(e){t.$set(t.dialogData,"name",e)},expression:"dialogData.name"}})],1),a("a-form-model-item",{attrs:{label:"编码",prop:"code"}},[a("a-textarea",{attrs:{rows:4,placeholder:"请输入编码"},model:{value:t.dialogData.code,callback:function(e){t.$set(t.dialogData,"code",e)},expression:"dialogData.code"}})],1),a("a-form-model-item",{attrs:{label:"启用/停用",prop:"state"}},[a("a-radio-group",{model:{value:t.dialogData.state,callback:function(e){t.$set(t.dialogData,"state",e)},expression:"dialogData.state"}},[a("a-radio",{attrs:{value:1}},[t._v(t._s(t.STATE[1]))]),a("a-radio",{attrs:{value:0}},[t._v(t._s(t.STATE[0]))])],1)],1)],1)],1):t._e()],1)},s=[],o=(a("99af"),a("b0c0"),a("d3b7"),a("5530")),i=a("0fea"),r=a("25a9"),d=[{title:"名称",dataIndex:"name"},{title:"编码",dataIndex:"code"},{title:"状态",dataIndex:"state",scopedSlots:{customRender:"state"}},{title:"创建时间",dataIndex:"create_date"},{title:"操作",scopedSlots:{customRender:"action"}}],l={required:!0,message:"请输入编码",trigger:"blur"},u=["停用","启用"],c={data:function(){return{STATE:u,data:[],pagination:{},loading:!1,columns:d,queryData:{name:null,code:null,page_no:1,page_size:5},dialogData:{id:null,name:null,code:null,parent_id:null,state:1},visible:!1,all_res:[],loading_all:!1,rules:{name:[l],code:[l]},dialogMode:"add"}},mounted:function(){this.fetch()},methods:{handleTableChange:function(t,e,a){var n=Object(o["a"])({},this.pagination);n.current=t.current,n.pageSize=5,this.pagination=n,this.queryData.page_no=t.current,this.fetch()},fetch_no_page:function(){this.pagination.current=1,this.queryData.page_no=1,this.queryData.page_size=5,this.fetch()},fetch:function(){var t=this;this.loading=!0;var e=Object.assign({},this.queryData);null!=e.time_start&&(e.time_start=e.time_start.format("YYYY-MM-DDThh:mm:ss")),null!=e.time_end&&(e.time_end=e.time_end.format("YYYY-MM-DDThh:mm:ss")),Object(i["c"])(e).then((function(e){var a=Object(o["a"])({},t.pagination);t.loading=!1,t.data=e.data.records,a.total=e.data.total,a.pageSize=e.data.page_size,t.pagination=a}))},handleAdd:function(t){this.queryData.page_no=1,this.queryData.name=null,this.queryData.code=null,this.dialogData={id:null,name:null,code:null,parent_id:null,state:1},t&&t.id&&(this.dialogData.parent_id=t.id),this.visible=!0},handleAddData:function(){var t=this;this.$refs.formAdd&&this.$refs.formAdd.validate((function(e){e&&("add"===t.dialogMode?Object(i["a"])(t.dialogData).then((function(e){Object(r["a"])(t,e),t.visible=!1,t.fetch()})):"edit"===t.dialogMode&&Object(i["d"])(t.dialogData).then((function(e){t.visible=!1,t.fetch()})))}))},handleEdit:function(t){this.dialogMode="edit",this.visible=!0,this.dialogData=Object.assign({},t),""===this.dialogData.parent_id&&(this.dialogData.parent_id=null)},handleDelete:function(t){var e=this;this.$confirm({title:"你确定要删除?",content:"".concat(t.code," - ").concat(t.name),onOk:function(){Object(i["b"])(t).then((function(t){Object(r["a"])(e,t),e.visible=!1,e.fetch()}))}})}}},_=c,m=a("2877"),p=Object(m["a"])(_,n,s,!1,null,null,null);e["default"]=p.exports}}]);